---
title: Tùy chỉnh mục nhập thời gian hàng tuần
description: Chủ đề này cung cấp thông tin về cách triển khai các quy tắc kinh doanh tùy chỉnh hỗ trợ cách thức của một tổ chức.
author: stsporen
ms.custom:
- dyn365-projectservice
ms.date: 07/09/2019
ms.topic: article
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.openlocfilehash: c117e06e7a5c57c7f9b70d1380f450c0ea97cd12
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 05/10/2021
ms.locfileid: "6013062"
---
# <a name="customize-weekly-time-entry"></a><span data-ttu-id="a7315-103">Tùy chỉnh mục nhập thời gian hàng tuần</span><span class="sxs-lookup"><span data-stu-id="a7315-103">Customize weekly time entry</span></span> 

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-3.x](../includes/cc-applies-to-psa-app-3x.md)]

<span data-ttu-id="a7315-104">Trong Microsoft Dynamics 365 Project Service Automation phiên bản 3.3, Microsoft đã giới thiệu một lưới hiện đại cho phép nguồn lực dự án nhanh chóng nhập thời gian cho tối đa 1 tuần 1 lúc.</span><span class="sxs-lookup"><span data-stu-id="a7315-104">In Microsoft Dynamics 365 Project Service Automation version 3.3, Microsoft introduced a modern grid that lets project resources quickly enter time for up to one week at a time.</span></span> <span data-ttu-id="a7315-105">Lưới mục nhập thời gian hàng tuần mới này có thể hiển thị tổng số cho các mục theo ngày, theo hàng hoặc theo tuần.</span><span class="sxs-lookup"><span data-stu-id="a7315-105">The new weekly time entry grid can show totals for entries by date, by row, or by week.</span></span> <span data-ttu-id="a7315-106">Các nguồn lực có thể tạo bản sao của mục nhập thời gian trong tuần và cũng sao chép hàng loạt từ các tuần trước.</span><span class="sxs-lookup"><span data-stu-id="a7315-106">Resources can make copies of time entries within the week and also bulk-copy from previous weeks.</span></span> <span data-ttu-id="a7315-107">Bộ tùy chỉnh hệ thống có thể tùy chỉnh dạng xem bằng cách thêm các trường, thêm thông tin tra cứu cho các thực thể khác và triển khai quy tắc kinh doanh tùy chỉnh để hỗ trợ phương thức của tổ chức.</span><span class="sxs-lookup"><span data-stu-id="a7315-107">System customizers can customize the view by adding fields, adding lookups to other entities, and implementing custom business rules to support their organization's practices.</span></span>

<span data-ttu-id="a7315-108">Mục nhập thời gian và lưới thời gian hàng tuần mới được truy cập thông qua bản đồ trang web.</span><span class="sxs-lookup"><span data-stu-id="a7315-108">Time entry and the new weekly time grid are accessed through the site map.</span></span> <span data-ttu-id="a7315-109">Trải nghiệm mục nhập thời gian tùy chỉnh không mở rộng là một phần của phiên bản PSA trước đó đã được thay thế bằng lưới mục nhập thời gian hàng tuần mở rộng, đồng thời bằng một trải nghiệm thay thế trong lưới chỉ đọc và lịch.</span><span class="sxs-lookup"><span data-stu-id="a7315-109">The non-extensible custom time entry experience that was part of earlier PSA versions has been replaced by the extensible weekly time entry grid, and also by an alternative experience in the read-only grid and calendar.</span></span> <span data-ttu-id="a7315-110">Do sự thay đổi này, người dùng có thể nhập thời gian vào số tiền hàng tuần.</span><span class="sxs-lookup"><span data-stu-id="a7315-110">Because of this change, users can enter time in weekly amounts.</span></span>

## <a name="page-layout"></a><span data-ttu-id="a7315-111">Bố cục trang</span><span class="sxs-lookup"><span data-stu-id="a7315-111">Page layout</span></span>
<span data-ttu-id="a7315-112">Lưới mục nhập thời gian hàng tuần là kiểm soát tùy chỉnh có thanh công cụ và hai phần chính **Thông số** và **Thời gian**.</span><span class="sxs-lookup"><span data-stu-id="a7315-112">The new weekly time entry grid is a custom control that has a toolbar and two main sections, **Dimensions** and **Duration**.</span></span> <span data-ttu-id="a7315-113">Thanh công cụ bao gồm một nút chỉ áp dụng cho điều khiển tùy chỉnh này cho lưới mục nhập thời gian.</span><span class="sxs-lookup"><span data-stu-id="a7315-113">The toolbar includes a button that applies only to this custom control for the time entry grid.</span></span> <span data-ttu-id="a7315-114">Ngược lại, các nút trên Ngăn nhiệm vụ ở đầu trang áp dụng cho ba loại điều khiển được hỗ trợ cho mục nhập thời gian: điều khiển mục nhập thời gian hàng tuần, điều khiển chỉ đọc và điều khiển lịch.</span><span class="sxs-lookup"><span data-stu-id="a7315-114">By contrast, the buttons on the Action Pane at the top of the page apply to the three types of controls that are supported for time entry: the weekly time entry control, the read-only control, and the calendar control.</span></span>

### <a name="dimensions"></a><span data-ttu-id="a7315-115">Thông số</span><span class="sxs-lookup"><span data-stu-id="a7315-115">Dimensions</span></span>
<span data-ttu-id="a7315-116">Phần **Thông số** hiển thị, như tiêu đề cột, tất cả các thông số có thể nhập được thời gian vào đó.</span><span class="sxs-lookup"><span data-stu-id="a7315-116">The **Dimensions** section shows, as column headings, all the dimensions that time can be entered against.</span></span> <span data-ttu-id="a7315-117">Các thông số sau đây được hỗ trợ ngay lập tức:</span><span class="sxs-lookup"><span data-stu-id="a7315-117">The following dimensions are supported out of the box:</span></span>

- <span data-ttu-id="a7315-118">Dự án</span><span class="sxs-lookup"><span data-stu-id="a7315-118">Project</span></span>
- <span data-ttu-id="a7315-119">Nhiệm vụ Dự án</span><span class="sxs-lookup"><span data-stu-id="a7315-119">Project Task</span></span>
- <span data-ttu-id="a7315-120">Vai trò</span><span class="sxs-lookup"><span data-stu-id="a7315-120">Role</span></span>
- <span data-ttu-id="a7315-121">Loại</span><span class="sxs-lookup"><span data-stu-id="a7315-121">Type</span></span>
- <span data-ttu-id="a7315-122">Trạng thái mục nhập</span><span class="sxs-lookup"><span data-stu-id="a7315-122">Entry Status</span></span>

<span data-ttu-id="a7315-123">Phần **Thông số** không cho phép chỉnh sửa nội tuyến.</span><span class="sxs-lookup"><span data-stu-id="a7315-123">The **Dimensions** section doesn't allow for inline editing.</span></span> <span data-ttu-id="a7315-124">Phần này được hỗ trợ bởi một dạng xem cho phép thêm các trường tùy chỉnh vào lưới mục nhập thời gian hàng tuần.</span><span class="sxs-lookup"><span data-stu-id="a7315-124">This section is backed by a view that enables custom fields to be added to the weekly time entry grid.</span></span> <span data-ttu-id="a7315-125">Để biết thông tin về cách thêm trường tùy chỉnh, hãy xem phần "Khả năng mở rộng" sau trong chủ đề này.</span><span class="sxs-lookup"><span data-stu-id="a7315-125">For information about how to add custom fields, see the "Extensibility" section later in this topic.</span></span>

### <a name="duration"></a><span data-ttu-id="a7315-126">Khoảng thời gian</span><span class="sxs-lookup"><span data-stu-id="a7315-126">Duration</span></span>
<span data-ttu-id="a7315-127">Phần Thời gian hiển thị các ngày trong tuần dưới dạng tiêu đề cột.</span><span class="sxs-lookup"><span data-stu-id="a7315-127">The Duration section shows the days of the week as column headers.</span></span> <span data-ttu-id="a7315-128">Phần này cho phép chỉnh sửa nội tuyến.</span><span class="sxs-lookup"><span data-stu-id="a7315-128">This section allows for inline editing.</span></span> <span data-ttu-id="a7315-129">Sau khi hàng mục nhập thời gian được tạo có các thông số phù hợp, người dùng có thể nhanh chóng nhập nội tuyến khoảng thời gian mà họ đã dành cho các thông số đó.</span><span class="sxs-lookup"><span data-stu-id="a7315-129">After a time entry row is created that has appropriate dimensions, users can quickly enter, inline, the amount of time that they spent on those dimensions.</span></span>

## <a name="create-a-new-time-entry"></a><span data-ttu-id="a7315-130">Tạo mục nhập thời gian mới</span><span class="sxs-lookup"><span data-stu-id="a7315-130">Create a new time entry</span></span>
<span data-ttu-id="a7315-131">Để tạo một mục nhập thời gian mới trong lưới mục nhập thời gian, hãy chọn **Mới**.</span><span class="sxs-lookup"><span data-stu-id="a7315-131">To create a new time entry in the time entry grid, select **New**.</span></span> <span data-ttu-id="a7315-132">Hộp thoại **Tạo nhanh mục nhập thời gian** xuất hiện.</span><span class="sxs-lookup"><span data-stu-id="a7315-132">The **Time Entry Quick Create** dialog box appears.</span></span> <span data-ttu-id="a7315-133">Trong hộp thoại này, người dùng có thể chọn ngày nhập thời gian, sau đó nhập dữ liệu cho các thông số **Dự án**, **nhiệm vụ dự án**, **Vai trò** và **Khoảng thời gian** theo phút, giờ hoặc ngày bằng cách nhập **gi**, **ph** hoặc **ng**, cùng với số.</span><span class="sxs-lookup"><span data-stu-id="a7315-133">In this dialog box, users can select the time entry date, and then enter data for the **Project**, **Project Task**, **Role**, and **Duration** dimensions in minutes, hours, or days by typing **h**, **m**, or **d**, together with the number.</span></span> <span data-ttu-id="a7315-134">Người dùng cũng có thể nhập mô tả và nhận xét có thể được chia sẻ bên ngoài cho mục nhập thời gian.</span><span class="sxs-lookup"><span data-stu-id="a7315-134">Users can also enter a description and comments that can be shared externally for the time entry.</span></span> <span data-ttu-id="a7315-135">Khi người dùng lưu các thay đổi, giá trị mà họ đã nhập vào các thông số sẽ xuất hiện trong phần **Thông số**.</span><span class="sxs-lookup"><span data-stu-id="a7315-135">When users save their changes, the values that they entered against the dimensions appear in the **Dimensions** section.</span></span> <span data-ttu-id="a7315-136">Thông tin khoảng thời gian mà họ đã nhập trong trường **Khoảng thời gian** sẽ xuất hiện vào ngày tạo mục nhập thời gian.</span><span class="sxs-lookup"><span data-stu-id="a7315-136">Duration information that they entered in the **Duration** field appears on the date that the time entry was created for.</span></span>

<span data-ttu-id="a7315-137">Trường tìm kiếm được các dạng xem hệ thống hỗ trợ.</span><span class="sxs-lookup"><span data-stu-id="a7315-137">Lookup fields are backed by system views.</span></span> <span data-ttu-id="a7315-138">Ví dụ: sau khi người dùng nhập một dự án, trường **nhiệm vụ dự án** được đặt thành dạng xem **Sao chép** theo mặc định.</span><span class="sxs-lookup"><span data-stu-id="a7315-138">For example, after a user enters a project, the **Project Task** field is set to the **Copy** view by default.</span></span> <span data-ttu-id="a7315-139">Để tạo mục nhập thời gian cho các nhiệm vụ không được gán cho người dùng, hãy chọn **Thay đổi dạng xem** trong hộp thoại tra cứu, sau đó chọn dạng xem **Tất cả nhiệm vụ dự án đang hoạt động**.</span><span class="sxs-lookup"><span data-stu-id="a7315-139">To create time entries for tasks that aren't assigned to a user, select **Change View** in the lookup dialog box, and then select the **All Active Project Tasks** view.</span></span>

## <a name="edit-a-time-entry"></a><span data-ttu-id="a7315-140">Chinh sửa mục nhập thời gian</span><span class="sxs-lookup"><span data-stu-id="a7315-140">Edit a time entry</span></span>
<span data-ttu-id="a7315-141">Thông tin chi tiết từ một số nguồn trên trang mục nhập thời gian, chẳng hạn như **Mô tả** và **Nhận xét bên ngoài**, không được hiển thị trong lưới mục nhập thời gian hàng tuần.</span><span class="sxs-lookup"><span data-stu-id="a7315-141">Details from some fields on the time entry page, such as **Description** and **External Comments**, aren't shown in the weekly time entry grid.</span></span> <span data-ttu-id="a7315-142">Thay vào đó, một chỉ báo hình tham giác nhỏ sẽ xuất hiện trong các ô khoảng thời gian có thông tin chi tiết bổ sung.</span><span class="sxs-lookup"><span data-stu-id="a7315-142">Instead, a small triangular indicator appears in duration cells that have these additional details.</span></span> <span data-ttu-id="a7315-143">Chọn ô, sau đó chọn **Chỉnh sửa chi tiết** để xem dữ liệu trong ngăn **Chỉnh sửa nhanh**.</span><span class="sxs-lookup"><span data-stu-id="a7315-143">Select the cell, and then select **Edit Details** to view the data in the **Quick Edit** pane.</span></span> <span data-ttu-id="a7315-144">Để chỉnh sửa hoặc cập nhật chi tiết cho một mục nhập thời gian cụ thể không thuộc lưới mục nhập thời gian hàng tuần, người dùng phải mở ngăn **Chỉnh sửa nhanh**.</span><span class="sxs-lookup"><span data-stu-id="a7315-144">To edit or update the details for a specific time entry that isn't part of the weekly time entry grid, users must open the **Quick Edit** pane.</span></span>

## <a name="copy-a-time-entry-row"></a><span data-ttu-id="a7315-145">Sao chép hàng mục nhập thời gian</span><span class="sxs-lookup"><span data-stu-id="a7315-145">Copy a time entry row</span></span>
<span data-ttu-id="a7315-146">Sau khi hàng mục nhập lần đầu tiên đã được tạo, người dùng có thể chọn **Sao chép hàng** để sao chép toàn bộ hàng vào một hàng mới.</span><span class="sxs-lookup"><span data-stu-id="a7315-146">After the first time entry row has been created, users can select **Copy Row** to copy the whole row to a new row.</span></span> <span data-ttu-id="a7315-147">Khi một hàng được sao chép theo cách này, các thông số và khoảng thời gian cũng được sao chép.</span><span class="sxs-lookup"><span data-stu-id="a7315-147">When a row is copied in this way, dimensions and durations are also copied.</span></span> <span data-ttu-id="a7315-148">Người dùng cũng có thể chọn **Chỉnh sửa hàng** để cập nhật các giá trị thông số và khoảng thời gian nội tuyến trong phần **Khoảng thời gian**.</span><span class="sxs-lookup"><span data-stu-id="a7315-148">Users can also select **Edit Row** to update dimension values and durations inline in the **Duration** section.</span></span>

## <a name="open-a-time-entry"></a><span data-ttu-id="a7315-149">Mở một mục nhập thời gian</span><span class="sxs-lookup"><span data-stu-id="a7315-149">Open a time entry</span></span>
<span data-ttu-id="a7315-150">Để hỗ trợ mục nhập tối ưu và nhanh chóng trong các trường nổi bật nhất, lưới mục nhập thời gian hàng tuần hiển thị tập hợp con của các thông số và khoảng thời gian đã chọn.</span><span class="sxs-lookup"><span data-stu-id="a7315-150">To support optimal and quick entry in the most prominent fields, the weekly time entry grid show a subset of selected dimensions and time durations.</span></span> <span data-ttu-id="a7315-151">Để xem tất cả thông tin chi tiết của một mục nhập thời gian, trong mục **Chỉnh sửa mục nhập**, hãy chọn **Mở**.</span><span class="sxs-lookup"><span data-stu-id="a7315-151">To view all the details of a single time entry, under **Edit Entry**, select **Open**.</span></span>

## <a name="submit-a-time-entry"></a><span data-ttu-id="a7315-152">Gửi một mục nhập thời gian</span><span class="sxs-lookup"><span data-stu-id="a7315-152">Submit a time entry</span></span>
<span data-ttu-id="a7315-153">Người dùng có thể gửi một mục nhập thời gian duy nhất hoặc một nhóm mục nhập thời gian bằng cách chọn một khối ô hoặc toàn bộ hàng mục nhập thời gian rồi chọn **Gửi**.</span><span class="sxs-lookup"><span data-stu-id="a7315-153">Users can submit a single time entry or a group of time entries by selecting a block of cells or a whole time entry row, and then selecting **Submit**.</span></span> <span data-ttu-id="a7315-154">Các mục nhập thời gian đã gửi xuất hiện dưới dạng các mục nhập đang chờ phê duyệt trên trang **Phê duyệt** của người phê duyệt.</span><span class="sxs-lookup"><span data-stu-id="a7315-154">Submitted time entries appear as entries that are pending approval on the approvers' **Approval** page.</span></span> <span data-ttu-id="a7315-155">Không thể chỉnh sửa các mục nhập thời gian sau khi đã gửi thành công.</span><span class="sxs-lookup"><span data-stu-id="a7315-155">After time entries are successfully submitted, they can't be edited.</span></span>

## <a name="recall-a-time-entry"></a><span data-ttu-id="a7315-156">Lấy lại mục nhập thời gian</span><span class="sxs-lookup"><span data-stu-id="a7315-156">Recall a time entry</span></span>
<span data-ttu-id="a7315-157">Bạn có thể lấy lại các mục nhập thời gian mà mình đã gửi.</span><span class="sxs-lookup"><span data-stu-id="a7315-157">You can recall time entries that you've submitted.</span></span> <span data-ttu-id="a7315-158">Bạn có thể lấy lại một mục nhập thời gian duy nhất, một khối mục nhập thời gian hoặc toàn bộ hàng mục nhập thời gian.</span><span class="sxs-lookup"><span data-stu-id="a7315-158">You can recall a single time entry, a block of time entries, or a whole row of time entries.</span></span> <span data-ttu-id="a7315-159">Các mục nhập thời gian được lấy lại có sẵn cho các nguồn lực để chỉnh sửa.</span><span class="sxs-lookup"><span data-stu-id="a7315-159">Recalled time entries are available to resources for editing.</span></span>

## <a name="time-entry-status"></a><span data-ttu-id="a7315-160">Trạng thái mục nhập thời gian</span><span class="sxs-lookup"><span data-stu-id="a7315-160">Time entry status</span></span>
<span data-ttu-id="a7315-161">Các mục nhập thời gian mới được tự động gán trạng thái **Bản nháp**.</span><span class="sxs-lookup"><span data-stu-id="a7315-161">New time entries are automatically assigned a status of **Draft**.</span></span> <span data-ttu-id="a7315-162">Khi một mục nhập thời gian được gửi, trạng thái sẽ được cập nhật thành **Đã gửi**.</span><span class="sxs-lookup"><span data-stu-id="a7315-162">When a time entry is submitted, the status is updated to **Submitted**.</span></span> <span data-ttu-id="a7315-163">Khi một mục nhập thời gian đã gửi được phê duyệt, trạng thái sẽ được cập nhật thành **Đã phê duyệt**.</span><span class="sxs-lookup"><span data-stu-id="a7315-163">When a submitted time entry is approved, the status is updated to **Approved**.</span></span> <span data-ttu-id="a7315-164">Nếu một mục nhập thời gian bị từ chối, trạng thái sẽ được cập nhật thành **Đã trả về** và mục nhập này sẽ có sẵn để sửa chữa và gửi lại.</span><span class="sxs-lookup"><span data-stu-id="a7315-164">If a time entry is rejected, the status is updated to **Returned**, and the entry becomes available for correction and resubmission.</span></span> <span data-ttu-id="a7315-165">Chỉ có thể xóa các mục nhập thời gian có trạng thái **Bản nháp**.</span><span class="sxs-lookup"><span data-stu-id="a7315-165">Only time entries that have a status of **Draft** can be deleted.</span></span>

## <a name="view-rejection-comments"></a><span data-ttu-id="a7315-166">Xem các nhận xét từ chối</span><span class="sxs-lookup"><span data-stu-id="a7315-166">View rejection comments</span></span>
<span data-ttu-id="a7315-167">Khi người phê duyệt từ chối một mục nhập thời gian, họ có thể thêm nhận xét từ chối để nguồn lực hiểu được lý do từ chối.</span><span class="sxs-lookup"><span data-stu-id="a7315-167">When a time entry is rejected by an approver, the approver might add rejection comments to help the resource understand the reason for the rejection.</span></span> <span data-ttu-id="a7315-168">Để xem các nhận xét từ chối cho một mục nhập thời gian, hãy chọn **Mở mục nhập**.</span><span class="sxs-lookup"><span data-stu-id="a7315-168">To view the rejection comments for a time entry, select **Open entry**.</span></span> <span data-ttu-id="a7315-169">Nhận xét từ chối sẽ được hiển thị trong tiến trình thời gian.</span><span class="sxs-lookup"><span data-stu-id="a7315-169">The rejection comments will be shown in the timeline.</span></span> <span data-ttu-id="a7315-170">Trong tiến trình thời gian, nguồn lực có thể phản hồi các nhận xét từ chối trước khi gửi lại mục nhập.</span><span class="sxs-lookup"><span data-stu-id="a7315-170">In the timeline, the resource can respond to the rejection comments before he or she resubmits the entry.</span></span>

## <a name="copy-week"></a><span data-ttu-id="a7315-171">Sao chép tuần</span><span class="sxs-lookup"><span data-stu-id="a7315-171">Copy week</span></span>
<span data-ttu-id="a7315-172">Sau khi một vài mục nhập thời gian được tạo, người dùng có thể chọn **Sao chép tuần** để tạo hàng loạt các mục nhập thời gian bổ sung.</span><span class="sxs-lookup"><span data-stu-id="a7315-172">After a few time entries have been created, users can select **Copy Week** to bulk-create additional time entries.</span></span> <span data-ttu-id="a7315-173">Hộp thoại **Sao chép** sẽ xuất hiện.</span><span class="sxs-lookup"><span data-stu-id="a7315-173">The **Copy** dialog box appears.</span></span> <span data-ttu-id="a7315-174">Trong phần **Từ khoảng thời gian**, hãy sử dụng các trường **Ngày bắt đầu** và **Ngày kết thúc** để xác định phạm vi ngày sẽ sao chép mục nhập thời gian từ đó.</span><span class="sxs-lookup"><span data-stu-id="a7315-174">In the **From period** section, use the **Start Date** and **End Date** fields to define the date range to copy time entries from.</span></span> <span data-ttu-id="a7315-175">Trong phần **Tới khoảng thời gian**, trong trường **Ngày bắt đầu**, hãy chỉ định ngày để tạo mục nhập thời gian.</span><span class="sxs-lookup"><span data-stu-id="a7315-175">In the **To Period** section, in the **Start Date** field, specify the date to create time entries for.</span></span> <span data-ttu-id="a7315-176">Sau đó chọn **Sao chép**.</span><span class="sxs-lookup"><span data-stu-id="a7315-176">Then select **Copy**.</span></span> <span data-ttu-id="a7315-177">Đối với ngày đã chỉ định trong khoảng thời gian "tới", một bản sao của các mục nhập thời gian cho ngày tương ứng trong tuần trong khoảng thời gian "từ" sẽ được tạo ra.</span><span class="sxs-lookup"><span data-stu-id="a7315-177">For the specified date in the "to" period, a copy of the time entries for the corresponding day of the week in the "from" period is created.</span></span> <span data-ttu-id="a7315-178">Ví dụ: mục nhập thời gian của thứ Hai tuần trước được sao chép vào thứ Hai của tuần được chỉ định là khoảng thời gian "tới".</span><span class="sxs-lookup"><span data-stu-id="a7315-178">For example, Monday's time entry from last week is copied into Monday of the week that is specified as the "to" period.</span></span>

## <a name="import"></a><span data-ttu-id="a7315-179">Nhập</span><span class="sxs-lookup"><span data-stu-id="a7315-179">Import</span></span>
<span data-ttu-id="a7315-180">Quá trình cơ bản tương tự được dùng để nhập từ các thông tin đặt trước, nội dung chỉ định và thông tin trao đổi.</span><span class="sxs-lookup"><span data-stu-id="a7315-180">The same basic process is used to import from bookings, assignments, and exchanges.</span></span> <span data-ttu-id="a7315-181">Người dùng có thể chỉ định phạm vi ngay nhập thông tin đặt trước.</span><span class="sxs-lookup"><span data-stu-id="a7315-181">Users can specify the date range that bookings are imported from.</span></span> <span data-ttu-id="a7315-182">Sau đó, họ phải chọn rõ ràng các thông tin đặt trước sẽ được sao chép vào mục nhập thời gian nháp.</span><span class="sxs-lookup"><span data-stu-id="a7315-182">They must then explicitly select the bookings that should be copied into draft time entries.</span></span> <span data-ttu-id="a7315-183">Trong bản phát hành trước, mục nhập thời gian gợi ý xuất hiện trong lưới và lịch, đồng thời mất khi phiên được làm mới.</span><span class="sxs-lookup"><span data-stu-id="a7315-183">In the previous release, suggested time entries appeared in the grid and the calendar, and were lost when the session was refreshed.</span></span>

## <a name="extensibility"></a><span data-ttu-id="a7315-184">Khả năng mở rộng</span><span class="sxs-lookup"><span data-stu-id="a7315-184">Extensibility</span></span>
### <a name="add-custom-fields-that-have-lookups-to-other-entities"></a><span data-ttu-id="a7315-185">Thêm các trường tùy chỉnh có mục tra cứu cho thực thể khác</span><span class="sxs-lookup"><span data-stu-id="a7315-185">Add custom fields that have lookups to other entities</span></span>
<span data-ttu-id="a7315-186">Có 3 bước chính để thêm trường tùy chỉnh vào lưới mục nhập thời gian hàng tuần.</span><span class="sxs-lookup"><span data-stu-id="a7315-186">There are three main steps to adding a custom field to the weekly time entry grid.</span></span>

1.  <span data-ttu-id="a7315-187">Thêm trường tùy chỉnh vào hộp thoại tạo nhanh.</span><span class="sxs-lookup"><span data-stu-id="a7315-187">Add the custom field to the quick create dialog box.</span></span>
2.  <span data-ttu-id="a7315-188">Cấu hình lưới để hiển thị trường tùy chỉnh.</span><span class="sxs-lookup"><span data-stu-id="a7315-188">Configure the grid to show the custom field.</span></span>
3.  <span data-ttu-id="a7315-189">Thêm trường tùy chỉnh vào hàng chỉnh sửa dòng nhiệm vụ hoặc ô chỉnh sửa dòng nhiệm vụ, nếu thích hợp.</span><span class="sxs-lookup"><span data-stu-id="a7315-189">Add the custom field to either the row edit task flow or the cell edit task flow, as appropriate.</span></span>

<span data-ttu-id="a7315-190">Ngoài ra, bạn phải đảm bảo rằng trường mới có các xác thực bắt buộc trong hàng hoặc ô chỉnh sửa luồng nhiệm vụ.</span><span class="sxs-lookup"><span data-stu-id="a7315-190">You must also make sure that the new field has the required validations in the row or cell edit task flow.</span></span> <span data-ttu-id="a7315-191">Trong bước này, bạn phải khóa trường, theo trạng thái mục nhập thời gian.</span><span class="sxs-lookup"><span data-stu-id="a7315-191">As part of this step, you must lock the field, based on the time entry status.</span></span>

#### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a><span data-ttu-id="a7315-192">Thêm trường tùy chỉnh vào hộp thoại tạo nhanh</span><span class="sxs-lookup"><span data-stu-id="a7315-192">Add the custom field to the quick create dialog box</span></span>
<span data-ttu-id="a7315-193">Bạn phải thêm trường tùy chỉnh vào hộp thoại Tạo nhanh mục nhập thời gian.</span><span class="sxs-lookup"><span data-stu-id="a7315-193">You must add the custom field to the Create Time Entry Quick Create dialog box.</span></span> <span data-ttu-id="a7315-194">để người dùng có thể nhập một giá trị cho trường này khi họ thêm mục nhập thời gian bằng cách sử dụng nút **Mới**.</span><span class="sxs-lookup"><span data-stu-id="a7315-194">so that users can enter a value for it when they add time entries by using the **New** button.</span></span>

#### <a name="configure-the-grid-to-show-the-custom-field"></a><span data-ttu-id="a7315-195">Cấu hình lưới để hiển thị trường tùy chỉnh</span><span class="sxs-lookup"><span data-stu-id="a7315-195">Configure the grid to show the custom field</span></span>
<span data-ttu-id="a7315-196">Có 2 cách để thêm trường tùy chỉnh vào lưới mục nhập thời gian hàng tuần.</span><span class="sxs-lookup"><span data-stu-id="a7315-196">There are two ways add a custom field to the weekly time entry grid.</span></span> <span data-ttu-id="a7315-197">Lựa chọn đầu tiên là tùy chỉnh dạng xem **Mục nhập thời gian hàng ngày của tôi** và thêm trường tùy chỉnh vào đó.</span><span class="sxs-lookup"><span data-stu-id="a7315-197">The first option is to customize the **My Weekly Time Entries** view and add the custom field to it.</span></span> <span data-ttu-id="a7315-198">Bạn có thể chọn vị trí và kích thước của trường tùy chỉnh trong lưới bằng cách chỉnh sửa các thuộc tính đó trong dạng xem.</span><span class="sxs-lookup"><span data-stu-id="a7315-198">You can choose the position and size of the custom field in the grid by editing those properties in the view.</span></span>

<span data-ttu-id="a7315-199">Lựa chọn thứ hai là tạo dạng xem mục nhập thời gian tùy chỉnh và đặt làm dạng xem mặc định.</span><span class="sxs-lookup"><span data-stu-id="a7315-199">The second option is to create a new custom time entry view and set it as the default view.</span></span> <span data-ttu-id="a7315-200">dạng xem này sẽ chứa các trường **Mô tả** và **Nhận xét bên ngoài**, ngoài các cột mà bạn muốn có trong lưới.</span><span class="sxs-lookup"><span data-stu-id="a7315-200">This view should contain the **Description** and **External Comments** fields, in addition to the columns that you want to have in the grid.</span></span> <span data-ttu-id="a7315-201">Bạn có thể chọn vị trí, kích thước và thứ tự sắp xếp mặc định cho lưới bằng cách chỉnh sửa các thuộc tính đó trong dạng xem.</span><span class="sxs-lookup"><span data-stu-id="a7315-201">You can choose the position, size, and default sort order of the grid by editing those properties in the view.</span></span> <span data-ttu-id="a7315-202">Tiếp theo, cấu hình bộ kiểm soát tùy chỉnh cho dạng xem này để trở thành bộ kiểm soát **Lưới mục nhập thời gian**.</span><span class="sxs-lookup"><span data-stu-id="a7315-202">Next, configure the custom control for this view so that it's a **Time Entry Grid** control.</span></span> <span data-ttu-id="a7315-203">Thêm bộ kiểm soát này vào dạng xem và chọn cho web, điện thoại và máy tính bảng.</span><span class="sxs-lookup"><span data-stu-id="a7315-203">Add this control to the view, and select it for web, phone, and tablet.</span></span> <span data-ttu-id="a7315-204">Tiếp theo, cấu hình các thông số cho lưới mục nhập thời gian hàng tuần.</span><span class="sxs-lookup"><span data-stu-id="a7315-204">Next, configure the parameters for the weekly time entry grid.</span></span> <span data-ttu-id="a7315-205">Đặt trường **Ngày bắt đầu** thành **msdyn_date**, đặt trường **Khoảng thời gian** thành **msdyn_duration** và đặt trường **Trạng thái** thành **msdyn_entrystatus**.</span><span class="sxs-lookup"><span data-stu-id="a7315-205">Set the **Start Date** field to **msdyn_date**, set the **Duration** field to **msdyn_duration**, and set the **Status** field to **msdyn_entrystatus**.</span></span> <span data-ttu-id="a7315-206">Đối với dạng xem mặc định, trường **Danh sách trạng thái chỉ đọc** được đặt thành **192350002,192350003,192350004**, trường **Luồng nhiệm vụ chỉnh sửa hàng** được đặt thành **msdyn_timeentryrowedit** và trường **Luồng nhiệm vụ chỉnh sửa ô** được đặt thành **msdyn_timeentryedit**.</span><span class="sxs-lookup"><span data-stu-id="a7315-206">For the default view, the **Read-only Status List** field is set to **192350002,192350003,192350004**, the **Row Edit Task Flow** field is set to **msdyn_timeentryrowedit**, and the **Cell Edit Task Flow** field is set to **msdyn_timeentryedit**.</span></span> <span data-ttu-id="a7315-207">Bạn có thể tùy chỉnh các trường này để thêm hoặc xóa trạng thái chỉ đọc hoặc sử dụng trải nghiệm dựa trên nhiệm vụ khác (TBX) để chỉnh sửa hàng hoặc ô editing.</span><span class="sxs-lookup"><span data-stu-id="a7315-207">You can customize these fields to add or remove read-only status, or to use a different task-based experience (TBX) for row or cell editing.</span></span> <span data-ttu-id="a7315-208">Các trường này sẽ bị ràng buộc với giá trị tĩnh.</span><span class="sxs-lookup"><span data-stu-id="a7315-208">These fields should be bound to a static value.</span></span>

#### <a name="add-the-custom-field-to-the-appropriate-edit-task-flow"></a><span data-ttu-id="a7315-209">Thêm trường tùy chỉnh vào luồng nhiệm vụ chỉnh sửa thích hợp</span><span class="sxs-lookup"><span data-stu-id="a7315-209">Add the custom field to the appropriate edit task flow</span></span>
<span data-ttu-id="a7315-210">Có thể tìm thấy trang TBX được dùng để chỉnh sửa trong phần **Quy trình**.</span><span class="sxs-lookup"><span data-stu-id="a7315-210">The TBX pages that are used for editing can be found under **Processes**.</span></span> <span data-ttu-id="a7315-211">Trang mặc định là **Project Service - Chỉnh sửa hàng mục nhập thời gian** và **Project Service - Chỉnh sửa mục nhập thời gian**.</span><span class="sxs-lookup"><span data-stu-id="a7315-211">The default pages are **Project Service - Time Entry Row Edit** and **Project Service - Time Entry Edit**.</span></span> <span data-ttu-id="a7315-212">Bạn có thể chỉnh sửa những trang mặc định này hoặc tạo trang TBX tùy chỉnh mới.</span><span class="sxs-lookup"><span data-stu-id="a7315-212">You can either edit these default pages or create new custom TBX pages.</span></span>

> [!NOTE] 
> <span data-ttu-id="a7315-213">Cả hai tùy chọn đều loại bỏ một số tính năng lọc sẵn cho các thực thể **Dự án** và **nhiệm vụ dự án**, từ đó tất cả dạng xem tra cứu cho các thực thể này đều hiển thị.</span><span class="sxs-lookup"><span data-stu-id="a7315-213">Both options will remove some out-of-box filtering on **Project** and **Project Task** entities, so that all lookup views for the entities will be visible.</span></span> <span data-ttu-id="a7315-214">Ban đầu, chỉ có dạng xem tra cứu phù hợp mới hiển thị.</span><span class="sxs-lookup"><span data-stu-id="a7315-214">Out of the box, only the relevant lookup views are visible.</span></span>

<span data-ttu-id="a7315-215">Bạn phải xác định luồng nhiệm vụ phù hợp cho trường tùy chỉnh.</span><span class="sxs-lookup"><span data-stu-id="a7315-215">You must determine the appropriate task flow for the custom field.</span></span> <span data-ttu-id="a7315-216">Nhiều khả năng, nếu bạn đã thêm trường vào lưới, trường đó sẽ chuyển vào luồng nhiệm vụ chỉnh sửa hàng được dùng cho các trường áp dụng cho toàn bộ hàng mục nhập thời gian.</span><span class="sxs-lookup"><span data-stu-id="a7315-216">Most likely, if you added the field to the grid, it should go in the row edit task flow that is used for fields that apply to the whole row of time entries.</span></span> <span data-ttu-id="a7315-217">Nếu trường tùy chỉnh có giá trị duy nhất mỗi ngày, chẳng hạn như trường tùy chỉnh cho **Thời gian kết thúc**, thì trường đó sẽ chuyển vào luồng nhiệm vụ chỉnh sửa ô.</span><span class="sxs-lookup"><span data-stu-id="a7315-217">If the custom field has a unique value every day, such as a custom field for **End time**, it should go in the cell edit task flow.</span></span>

<span data-ttu-id="a7315-218">Để thêm trường tùy chỉnh vào một luồng nhiệm vụ, hãy kéo thành phần **Trường** vào vị trí thích hợp trên trang, sau đó đặt thuộc tính cho trường đó.</span><span class="sxs-lookup"><span data-stu-id="a7315-218">To add the custom field to a task flow, drag a **Field** element into the appropriate position on the page, and then set its properties.</span></span> <span data-ttu-id="a7315-219">Đặt thuộc tính **Nguồn** thành **Mục nhập thời gian** và đặt thuộc tính **Trường dữ liệu** thành trường tùy chỉnh.</span><span class="sxs-lookup"><span data-stu-id="a7315-219">Set the **Source** property to **Time Entry**, and set the **Data Field** property to the custom field.</span></span> <span data-ttu-id="a7315-220">Thuộc tính **Trường** chỉ định tên hiển thị trên trang TBX.</span><span class="sxs-lookup"><span data-stu-id="a7315-220">The **Field** property specifies the display name on the TBX page.</span></span> <span data-ttu-id="a7315-221">Chọn **Áp dụng** để lưu các thay đổi với trường.</span><span class="sxs-lookup"><span data-stu-id="a7315-221">Select **Apply** to save your changes to the field.</span></span> <span data-ttu-id="a7315-222">Sau đó chọn **Cập nhật** để lưu các thay đổi với trường.</span><span class="sxs-lookup"><span data-stu-id="a7315-222">Then select **Update** to save your changes to the page.</span></span>

<span data-ttu-id="a7315-223">Để sử dụng trang TBX tùy chỉnh mới, hãy tạo một quy trình mới.</span><span class="sxs-lookup"><span data-stu-id="a7315-223">To use a new custom TBX page instead, create a new process.</span></span> <span data-ttu-id="a7315-224">Đặt danh mục thành **Luồng quy trình công việc**, đặt thực thể thành **Mục nhập thời gian** và đặt loại quy trình công việc thành **Chạy quy trình dưới dạng luồng nhiệm vụ**.</span><span class="sxs-lookup"><span data-stu-id="a7315-224">Set the category to **Business Process Flow**, set the entity to **Time Entry**, and set the business process type to **Run process as a task flow**.</span></span> <span data-ttu-id="a7315-225">Trong phần **Thuộc tính**, phải đặt thuộc tính **Tên trang** thành tên hiển thị cho trang.</span><span class="sxs-lookup"><span data-stu-id="a7315-225">Under **Properties**, the **Page name** property should be set to the display name for the page.</span></span> <span data-ttu-id="a7315-226">Thêm tất cả các trường liên quan vào trang TBX.</span><span class="sxs-lookup"><span data-stu-id="a7315-226">Add all the relevant fields to the TBX page.</span></span> <span data-ttu-id="a7315-227">Lưu và kích hoạt quy trình, sau đó cập nhật thuộc tính kiểm soát tùy chỉnh cho luồng nhiệm vụ liên quan thành giá trị **Tên** trên quy trình.</span><span class="sxs-lookup"><span data-stu-id="a7315-227">Save and activate the process, and then update the custom control property for the relevant task flow to the value of **Name** on the process.</span></span>

### <a name="add-new-option-set-values"></a><span data-ttu-id="a7315-228">Thêm các giá trị bộ tùy chọn mới</span><span class="sxs-lookup"><span data-stu-id="a7315-228">Add new option set values</span></span>
<span data-ttu-id="a7315-229">Để thêm các giá trị bộ tùy chọn vào một trường sẵn có, hãy mở trang chỉnh sửa cho trường đó, sau đó trong **Loại**, hãy chọn **Chỉnh sửa** bên cạnh bộ tùy chọn.</span><span class="sxs-lookup"><span data-stu-id="a7315-229">To add option set values to an out-of-box field, open the editing page for the field, and then, under **Type**, select **Edit** next to the option set.</span></span> <span data-ttu-id="a7315-230">Tiếp theo, thêm tùy chọn mới có nhãn và màu tùy chỉnh.</span><span class="sxs-lookup"><span data-stu-id="a7315-230">Next, add a new option that has a custom label and color.</span></span> <span data-ttu-id="a7315-231">Nếu bạn muốn thêm trạng thái mục nhập thời gian mới, thì trường ban đầu phải được đặt tên là **Trạng thái mục nhập** chứ không phải là **Trạng thái**.</span><span class="sxs-lookup"><span data-stu-id="a7315-231">If you want to add a new time entry status, the out-of-box field is named **Entry Status**, not **Status**.</span></span>

### <a name="designate-a-new-time-entry-status-as-read-only"></a><span data-ttu-id="a7315-232">Chỉ định trạng thái mục nhập thời gian mới là chỉ đọc</span><span class="sxs-lookup"><span data-stu-id="a7315-232">Designate a new time entry status as read-only</span></span>
<span data-ttu-id="a7315-233">Để chỉ định trạng thái mục nhập thời gian mới thành chỉ đọc, hãy thêm giá trị mục nhập thời gian mới (số chứ không phải nhãn) vào thuộc tính **Danh sách trạng thái chỉ đọc**.</span><span class="sxs-lookup"><span data-stu-id="a7315-233">To designate a new time entry status as read-only, add the new time entry value (the number, not the label) to the **Read-only Status List** property.</span></span> <span data-ttu-id="a7315-234">Phần có thể chỉnh sửa của lưới mục nhập thời gian sẽ bị khóa cho các hàng có trạng thái mới.</span><span class="sxs-lookup"><span data-stu-id="a7315-234">The editable part of the time entry grid will be locked for rows that have the new status.</span></span>
<span data-ttu-id="a7315-235">Tiếp theo, hãy thêm các quy tắc công việc để khóa tất cả các trường trên trang TBX **Chỉnh sửa hàng mục nhập thời gian** và **Chỉnh sửa mục nhập thời gian**.</span><span class="sxs-lookup"><span data-stu-id="a7315-235">Next, add business rules to lock all the fields on the **Time Entry Row Edit** and **Time Entry Edit** TBX pages.</span></span> <span data-ttu-id="a7315-236">Bạn có thể truy cập các quy tắc công việc cho những trang này bằng cách mở công cụ biên tập dòng quy trình công việc cho trang rồi chọn **Quy tắc công việcBusiness Rules**.</span><span class="sxs-lookup"><span data-stu-id="a7315-236">You can access the business rules for these pages by opening the business process flow editor for the page and then selecting **Business Rules**.</span></span> <span data-ttu-id="a7315-237">Sau đó, bạn có thể thêm trạng thái mới vào điều kiện trong các quy tắc kinh doanh hiện có hoặc có thể thêm quy tắc công việc mới cho trạng thái mới.</span><span class="sxs-lookup"><span data-stu-id="a7315-237">You can add the new status to the condition in the existing business rules, or you can add a new business rule for the new status.</span></span>

### <a name="add-custom-validation-rules"></a><span data-ttu-id="a7315-238">Thêm quy tắc xác thực tùy chỉnh</span><span class="sxs-lookup"><span data-stu-id="a7315-238">Add custom validation rules</span></span>
<span data-ttu-id="a7315-239">Có 2 loại quy tắc xác thực mà bạn có thể thêm cho trải nghiệm lưới mục nhập thời gian hàng tuần: •   Quy tắc công việc phía khách hàng hoạt động trong các hộp thoại tạo nhanh và trên trang TBX •   Quy tắc xác thực phía máy chủ áp dụng cho tất cả các nội dung cập nhật mục nhập thời gian</span><span class="sxs-lookup"><span data-stu-id="a7315-239">There are two types of validation rules that you can add for the weekly time entry grid experience: •   Client-side business rules that work in quick create dialog boxes and on TBX pages •   Server-side plug-in validations that apply to all time entry updates</span></span>

#### <a name="business-rules"></a><span data-ttu-id="a7315-240">Quy tắc kinh doanh</span><span class="sxs-lookup"><span data-stu-id="a7315-240">Business rules</span></span>
<span data-ttu-id="a7315-241">Sử dụng quy tắc công việc để khóa và mở khóa các trường, nhập giá trị mặc định vào trường và xác định các quy tắc xác thực chỉ yêu cầu thông tin từ bản ghi mục nhập thời gian hiện tại.</span><span class="sxs-lookup"><span data-stu-id="a7315-241">Use business rules to lock and unlock fields, enter default values in fields, and define validations that require information only from the current time entry record.</span></span> <span data-ttu-id="a7315-242">Bạn có thể truy cập các quy tắc công việc cho trang TBX bằng cách mở công cụ biên tập dòng quy trình công việc cho trang rồi chọn **Quy tắc công việc**.</span><span class="sxs-lookup"><span data-stu-id="a7315-242">You can access the business rules for a TBX page by opening the business process flow editor for the page and then selecting **Business Rules**.</span></span> <span data-ttu-id="a7315-243">Sau đó, bạn có thể chỉnh sửa quy tắc công việc hiện có hoặc thêm quy tắc kinh doanh mới.</span><span class="sxs-lookup"><span data-stu-id="a7315-243">You can then edit the existing business rules or add a new business rule.</span></span> <span data-ttu-id="a7315-244">Để có các quy tắc xác thực mang tính tùy chỉnh hơn, bạn có thể sử dụng quy tắc công việc để chạy JavaScript.</span><span class="sxs-lookup"><span data-stu-id="a7315-244">For even more customized validations, you can use a business rule to run JavaScript.</span></span>

#### <a name="plug-in-validations"></a><span data-ttu-id="a7315-245">Xác thực bổ trợ</span><span class="sxs-lookup"><span data-stu-id="a7315-245">Plug-in validations</span></span>
<span data-ttu-id="a7315-246">Bạn nên sử dụng các quy tắc xác thực bổ trợ đối với mọi quá trình xác thực yêu cầu nhiều ngữ cảnh hơn ngữ cảnh có sẵn trong một bản ghi mục nhập thời gian, hoặc bất kỳ quá trình xác thực nào mà bạn muốn chạy trên các bản cập nhật nội tuyến trong lưới.</span><span class="sxs-lookup"><span data-stu-id="a7315-246">You should use plug-in validations for any validations that require more context than is available in a single time entry record, or for any validations that you want to run on inline updates in the grid.</span></span> <span data-ttu-id="a7315-247">Để hoàn tất quy trình xác thực, hãy tạo một phần bổ trợ trên thực thể **Mục nhập thời gian**.</span><span class="sxs-lookup"><span data-stu-id="a7315-247">To complete the validation, create a custom plug-in on the **Time Entry** entity.</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="a7315-248">Hiện tại, một sự cố đã biết trên trang TBX ngăn người dùng điều chỉnh thông tin và chọn lại Xong khi bản cập nhật không xác nhận được phần bổ trợ.</span><span class="sxs-lookup"><span data-stu-id="a7315-248">Currently, a known issue on the TBX pages prevents users from correcting information and reselecting Done when an update fails a plug-in validation.</span></span> <span data-ttu-id="a7315-249">Để khắc phục, hãy thiết lập các quy tắc xác thực quy tắc công việc để ngăn chặn tình huống này nhiều nhất có thể.</span><span class="sxs-lookup"><span data-stu-id="a7315-249">As a workaround, set up business rule validations to prevent this situation as much as possible.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]