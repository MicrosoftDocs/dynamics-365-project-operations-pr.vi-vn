---
title: Ước tính dự án và tích hợp thực tế
description: Chủ đề này cung cấp thông tin về tích hợp ghi kép Project Operations cho các giá trị ước tính và thực tế dự án.
author: sigitac
ms.date: 4/26/2021
ms.topic: article
ms.prod: ''
ms.reviewer: kfend
ms.author: sigitac
ms.openlocfilehash: d8aa1541a3560db175acead1d000895312b299db
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 05/10/2021
ms.locfileid: "6000057"
---
# <a name="project-estimates-and-actuals-integration"></a><span data-ttu-id="63936-103">Ước tính dự án và tích hợp thực tế</span><span class="sxs-lookup"><span data-stu-id="63936-103">Project estimates and actuals integration</span></span>

<span data-ttu-id="63936-104">_**Áp dụng cho:** Project Operations cho kịch bản dựa trên nguồn lực/hàng không nhập kho_</span><span class="sxs-lookup"><span data-stu-id="63936-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="63936-105">Chủ đề này cung cấp thông tin về tích hợp ghi kép Project Operations cho các giá trị ước tính và thực tế dự án.</span><span class="sxs-lookup"><span data-stu-id="63936-105">This topic provides information about Project Operations dual-write integration for project estimates and actuals.</span></span>

## <a name="project-estimates"></a><span data-ttu-id="63936-106">Ước tính dự án</span><span class="sxs-lookup"><span data-stu-id="63936-106">Project estimates</span></span>

<span data-ttu-id="63936-107">Các giá trị ước tính về lao động, chi phí và vật tư của dự án được tạo và duy trì trong Microsoft Dataverse, đồng thời được đồng bộ hóa với ứng dụng Finance and Operations cho mục đích kế toán.</span><span class="sxs-lookup"><span data-stu-id="63936-107">Project labor, expense, and material estimates are created and maintained in Microsoft Dataverse and synchronized to Finance and Operations apps for accounting purposes.</span></span> <span data-ttu-id="63936-108">Các thao tác tạo, cập nhật và xóa không được hỗ trợ thông qua ứng dụng Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="63936-108">Create, update, and delete operations aren't supported through the Finance and Operations apps.</span></span>

<span data-ttu-id="63936-109">Tạo giá trị ước tính yêu cầu cấu hình kế toán hợp lệ cho dự án.</span><span class="sxs-lookup"><span data-stu-id="63936-109">Creating estimates requires a valid accounting configuration for the project.</span></span> <span data-ttu-id="63936-110">Các dự án được liên kết với các mô tả hợp đồng phải có hồ sơ doanh thu và chi phí dự án hợp lệ được xác định trong các quy tắc về chi phí và hồ sơ doanh thu của Dự án.</span><span class="sxs-lookup"><span data-stu-id="63936-110">Projects that are associated with contract lines must have a valid project cost and revenue profile defined in the Project cost and revenue profile rules.</span></span> <span data-ttu-id="63936-111">Để biết thêm thông tin, hãy xem [Đặt cấu hình hoạt động kế toán cho các dự án có thể tính phí](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span><span class="sxs-lookup"><span data-stu-id="63936-111">For more information, see [Configure accounting for billable projects](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span></span>

## <a name="labor-estimates"></a><span data-ttu-id="63936-112">Ước tính lao động</span><span class="sxs-lookup"><span data-stu-id="63936-112">Labor estimates</span></span>

<span data-ttu-id="63936-113">Ước tính lao động được tạo bởi Người quản lý dự án hoặc Người quản lý nguồn lực, cũng là người chỉ định một nguồn lực chung hoặc được đặt tên cho nhiệm vụ dự án.</span><span class="sxs-lookup"><span data-stu-id="63936-113">Labor estimates are created by the Project Manager or Resource manager who also assigns a generic or named resource to the project task.</span></span> <span data-ttu-id="63936-114">Có thể đánh giá hồ sơ chỉ định nguồn lực trên tab **Chỉ định nguồn lực** trên trang **Chi tiết dự án** trong Dataverse.</span><span class="sxs-lookup"><span data-stu-id="63936-114">Resource assignment records can be reviewed on the **Resource Assignments** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="63936-115">Hồ sơ chỉ định nguồn lực trong Dataverse tạo bản ghi dự báo giờ trong ứng dụng Finance and Operations bằng **Thực thể tích hợp Project Operations cho ước tính giờ (msdyn\_resourceassignments)**.</span><span class="sxs-lookup"><span data-stu-id="63936-115">Resource assignment records in Dataverse create hour forecast records in Finance and Operations apps using **Project Operations integration entity for hour estimates (msdyn\_resourceassignments)**.</span></span>

   ![Tích hợp ước tính lao động](./Media/DW4LaborEstimates.png)

<span data-ttu-id="63936-117">Tính năng ghi kép đồng bộ hóa các hồ sơ chỉ định nguồn lực vào bảng tách chuyển (**ProjCDSEstimHoursImport**) rồi sử dụng logic nghiệp vụ để tạo và cập nhật các bản ghi dự báo giờ (**ProjForecastEmpl**).</span><span class="sxs-lookup"><span data-stu-id="63936-117">Dual-write synchronizes resource assignment records to the staging table (**ProjCDSEstimateHoursImport**), and then uses business logic to create and update hour forecast records (**ProjForecastEmpl**).</span></span>

<span data-ttu-id="63936-118">Kế toán viên của dự án đánh giá các bản ghi giờ dự báo được tạo trong ứng dụng Finance and Operations bằng cách chuyển đến **Quản lý dự án và kế toán** > **Tất cả các dự án** > **Kế hoạch** > **Dự báo giờ**.</span><span class="sxs-lookup"><span data-stu-id="63936-118">The Project accountant reviews forecast hour records created in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Hour forecasts**.</span></span>

## <a name="expense-estimates"></a><span data-ttu-id="63936-119">Ước tính chi phí</span><span class="sxs-lookup"><span data-stu-id="63936-119">Expense estimates</span></span>

<span data-ttu-id="63936-120">Ước tính chi phí được tạo ra bởi Người quản lý dự án trên tab **Ước tính chi phí** trên trang **Chi tiết dự án** trong Dataverse.</span><span class="sxs-lookup"><span data-stu-id="63936-120">Expense estimates are created by the Project manager on the **Expense Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="63936-121">Hồ sơ ước tính chi phí được lưu trữ trong thực thể **Mô tả ước tính** trong Dataverse.</span><span class="sxs-lookup"><span data-stu-id="63936-121">Expense estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="63936-122">Các bản ghi ước tính này có lớp giao dịch, **Chi phí** và được đồng bộ hóa với hồ sơ dự báo chi phí trong ứng dụng Finance and Operations bằng **Thực thể tích hợp Project Operations để ước tính chi phí (msdyn\_estimatelines)**.</span><span class="sxs-lookup"><span data-stu-id="63936-122">These estimate records have transaction class, **Expense** and are synchronized to expense forecast records in Finance and Operations apps using **Project Operations integration entity for expense estimates (msdyn\_estimatelines)**.</span></span>

   ![Tích hợp ước tính chi phí](./Media/DW4ExpenseEstimates.png)

<span data-ttu-id="63936-124">Tính năng ghi kép đồng bộ hóa các bản ghi ước tính chi phí vào bảng tách chuyển, **(ProjCDSEstimateExpenseImport)** rồi sử dụng logic nghiệp vụ để tạo và cập nhật các bản ghi dự báo giờ (**ProjForecastCost**).</span><span class="sxs-lookup"><span data-stu-id="63936-124">Dual-write synchronizes expense estimate records to the staging table, **ProjCDSEstimateExpenseImport)** and then uses business logic to create and update expense forecast records (**ProjForecastCost**).</span></span> <span data-ttu-id="63936-125">Mô tả ước tính lưu trữ hồ sơ ước tính bán hàng và ước tính chi phí riêng biệt.</span><span class="sxs-lookup"><span data-stu-id="63936-125">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="63936-126">Logic kinh doanh trong ứng dụng Finance and Operations điền một bản ghi dự báo Chi phí duy nhất bằng cách sử dụng chi tiết này trong bảng tách chuyển.</span><span class="sxs-lookup"><span data-stu-id="63936-126">The business logic in Finance and Operations apps populates a single Expense forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="63936-127">Kế toán viên của dự án có thể đánh giá các bản ghi dự báo chi phí trong ứng dụng Finance and Operations bằng cách chuyển đến **Quản lý dự án và kế toán** > **Tất cả các dự án** > **Kế hoạch** > **Dự báo chi phí**.</span><span class="sxs-lookup"><span data-stu-id="63936-127">The Project accountant can review expense forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Expense forecasts**.</span></span>

## <a name="material-estimates"></a><span data-ttu-id="63936-128">Ước tính vật tư</span><span class="sxs-lookup"><span data-stu-id="63936-128">Material estimates</span></span>

<span data-ttu-id="63936-129">Ước tính vật tư được tạo ra bởi Người quản lý dự án trên tab **Ước tính vật tư** trên trang **Chi tiết dự án** trong Dataverse.</span><span class="sxs-lookup"><span data-stu-id="63936-129">Material estimates are created by the Project manager on the **Material Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="63936-130">Hồ sơ ước tính vật tư được lưu trữ trong thực thể **Mô tả ước tính** trong Dataverse.</span><span class="sxs-lookup"><span data-stu-id="63936-130">Material estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="63936-131">Các bản ghi ước tính này có lớp giao dịch, **Vật tư** và được đồng bộ hóa với hồ sơ dự báo sản phẩm trong ứng dụng Finance and Operations bằng **Bảng tích hợp Project Operations để ước tính vật tư (msdyn\_estimatelines)**.</span><span class="sxs-lookup"><span data-stu-id="63936-131">These estimate records have the transaction class, **Material** and are synchronized to item forecast records in Finance and Operations apps using **Project integration table for material estimates (msdyn\_estimatelines)**.</span></span>

   ![Tích hợp ước tính vật tư](./Media/DW4MaterialEstimates.png)

<span data-ttu-id="63936-133">Tính năng ghi kép đồng bộ hóa các bản ghi ước tính vật tư vào bảng tách chuyển **ProjForecastSalesImpor** rồi sử dụng logic nghiệp vụ để tạo và cập nhật các bản ghi dự báo sản phẩm (**ForecastSales**).</span><span class="sxs-lookup"><span data-stu-id="63936-133">Dual-write synchronizes material estimate records to the staging table **ProjForecastSalesImpor**, and then uses business logic to create and update item forecast records (**ForecastSales**).</span></span> <span data-ttu-id="63936-134">Mô tả ước tính lưu trữ hồ sơ ước tính bán hàng và ước tính chi phí riêng biệt.</span><span class="sxs-lookup"><span data-stu-id="63936-134">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="63936-135">Logic kinh doanh trong ứng dụng Finance and Operations điền một bản ghi dự báo Sản phẩm duy nhất bằng cách sử dụng chi tiết này trong bảng tách chuyển.</span><span class="sxs-lookup"><span data-stu-id="63936-135">The business logic in Finance and Operations apps populates a single Item forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="63936-136">Kế toán viên của dự án có thể đánh giá các bản ghi dự báo sản phẩm trong ứng dụng Finance and Operations bằng cách chuyển đến **Quản lý dự án và kế toán** > **Tất cả các dự án** > **Kế hoạch** > **Dự báo sản phẩm**.</span><span class="sxs-lookup"><span data-stu-id="63936-136">The Project accountant can review item forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Item forecasts**.</span></span>

## <a name="project-actuals"></a><span data-ttu-id="63936-137">Giá trị thực tế của dự án</span><span class="sxs-lookup"><span data-stu-id="63936-137">Project actuals</span></span>

<span data-ttu-id="63936-138">Giá trị thực tế của dự án được tạo trong Dataverse, dựa trên thời gian, chi phí, vật tư và hoạt động thanh toán.</span><span class="sxs-lookup"><span data-stu-id="63936-138">Project actuals are created in Dataverse, based on time, expense, material, and billing activity.</span></span> <span data-ttu-id="63936-139">Tất cả các thuộc tính hoạt động của những giao dịch này bao gồm số lượng, giá vốn, giá bán và dự án được ghi lại trong thực thể Dataverse.</span><span class="sxs-lookup"><span data-stu-id="63936-139">All operational attributes of these transactions including quantity, cost price, sales price, and project are captured in this Dataverse entity.</span></span> <span data-ttu-id="63936-140">Để biết thêm thông tin, hãy xem [Giá trị thực tế](../actuals/actuals-overview.md).</span><span class="sxs-lookup"><span data-stu-id="63936-140">For more information, see [Actuals](../actuals/actuals-overview.md).</span></span> <span data-ttu-id="63936-141">Hồ sơ giá trị thực tế được đồng bộ hóa với ứng dụng Finance and Operations bằng bản đồ bảng ghi kép **Giá trị tích hợp thực tế của Project Operations (msdyn\_actuals)** để hạch toán xuôi tuyến.</span><span class="sxs-lookup"><span data-stu-id="63936-141">Actual records are synchronized to Finance and Operations apps using the dual-write table map **Project Operations integration actuals (msdyn\_actuals)** for downstream accounting.</span></span>

   ![Tích hợp giá trị thực tế](./Media/DW4Actuals.png)

<span data-ttu-id="63936-143">Sơ đồ bảng **Giá trị tích hợp thực tế của Project Operations** đồng bộ hóa tất cả các bản ghi từ thực thể **Giá trị thực tế** trong Dataverse, với thuộc tính **Bỏ qua đồng bộ hóa (chỉ sử dụng nội bộ)** đặt thành **Sai**.</span><span class="sxs-lookup"><span data-stu-id="63936-143">The **Project Operations integration actuals** table map synchronizes all the records from the **Actuals** entity in Dataverse, with the attribute **Skip Sync (internal use only)** set to **False**.</span></span> <span data-ttu-id="63936-144">Giá trị thuộc tính này được đặt tự động trong Dataverse khi bản ghi được tạo.</span><span class="sxs-lookup"><span data-stu-id="63936-144">This attribute value is set in Dataverse automatically when the record is created.</span></span> <span data-ttu-id="63936-145">Ví dụ trong đó thuộc tính này được đặt thành **Đúng**:</span><span class="sxs-lookup"><span data-stu-id="63936-145">Examples where this attribute is set to **True** are:</span></span>

  - <span data-ttu-id="63936-146">Thực tế chi phí của dự án cho các giao dịch liên công ty.</span><span class="sxs-lookup"><span data-stu-id="63936-146">Project cost actuals for intercompany transactions.</span></span> <span data-ttu-id="63936-147">Để biết thêm thông tin, hãy xem [Tạo giao dịch liên công ty](../project-accounting/create-intercompany-transactions.md).</span><span class="sxs-lookup"><span data-stu-id="63936-147">For more information, see [Create intercompany transactions](../project-accounting/create-intercompany-transactions.md).</span></span> <span data-ttu-id="63936-148">Các bản ghi này bị bỏ qua vì hệ thống tạo lại chi phí thực tế của dự án trong ứng dụng Finance and Operations khi hóa đơn của nhà cung cấp liên công ty được đăng.</span><span class="sxs-lookup"><span data-stu-id="63936-148">These records are skipped because the system recreates the project cost actual in Finance and Operations apps when the intercompany vendor invoice is posted.</span></span>
  - <span data-ttu-id="63936-149">Bản ghi bán hàng chưa lập hóa đơn âm được tạo khi hóa đơn ước giá được xác nhận.</span><span class="sxs-lookup"><span data-stu-id="63936-149">Negative unbilled sales records created when the proforma invoice is confirmed.</span></span> <span data-ttu-id="63936-150">Các bản ghi này bị bỏ qua vì sổ cái của dự án trong ứng dụng Finance and Operations không đảo ngược hồ sơ bán hàng chưa lập hóa đơn khi lập hóa đơn nhưng thay đổi trạng thái thành đã lập hóa đơn đầy đủ.</span><span class="sxs-lookup"><span data-stu-id="63936-150">These records are skipped because the project subledger in Finance and Operations apps doesn't reverse the unbilled sales record at invoicing but changes the status to fully invoiced.</span></span>

<span data-ttu-id="63936-151">Bản đồ bảng ghi kép đồng bộ hóa các bản ghi thực tế với bảng tách chuyển, **ProjCDSActualsImport**.</span><span class="sxs-lookup"><span data-stu-id="63936-151">The dual-write table map synchronizes the actuals records to the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="63936-152">Các bản ghi này được xử lý theo quy trình định kỳ **Nhập từ bảng tách chuyển** khi tạo dòng nhật ký kế toán tích hợp Project Operations và mô tả đề xuất hóa đơn dự án.</span><span class="sxs-lookup"><span data-stu-id="63936-152">These records are processed by the periodic process **Import from staging table** when creating Project Operations integration journal lines and project invoice proposal lines.</span></span> <span data-ttu-id="63936-153">Để biết thêm thông tin, hãy xem [Nhật ký tích hợp trong Project Operations](../project-accounting/project-operations-integration-journal.md).</span><span class="sxs-lookup"><span data-stu-id="63936-153">For more information, see [Integration journal in Project Operations](../project-accounting/project-operations-integration-journal.md).</span></span>

<span data-ttu-id="63936-154">Dataverse cũng nắm bắt các liên kết giữa các giao dịch thực tế của dự án trong thực thể **Kết nối giao dịch**.</span><span class="sxs-lookup"><span data-stu-id="63936-154">Dataverse also captures the links between the project actual transactions in the **Transaction connection** entity.</span></span> <span data-ttu-id="63936-155">Để biết thêm thông tin, hãy xem [Liên kết giá trị thực tế với bản ghi gốc](../actuals/linkingactuals.md).</span><span class="sxs-lookup"><span data-stu-id="63936-155">For more information, see [Link actuals to original records](../actuals/linkingactuals.md).</span></span> <span data-ttu-id="63936-156">Liên kết giữa các giao dịch thực tế cũng được đồng bộ hóa với ứng dụng Finance and Operations bằng bản đồ bảng ghi kép, **Thực thể tích hợp cho các mối quan hệ giao dịch dự án (msdyn\_transactionconnections)**.</span><span class="sxs-lookup"><span data-stu-id="63936-156">Links between actual transactions are also synchronized to Finance and Operations apps using the dual-write table map, **Integration entity for project transaction relationships (msdyn\_transactionconnections)**.</span></span> <span data-ttu-id="63936-157">Các bản ghi này được sử dụng cho quy trình định kỳ, **Nhập từ bảng tách chuyển** khi tạo dòng nhật ký kế toán tích hợp Project Operations và mô tả đề xuất hóa đơn Dự án.</span><span class="sxs-lookup"><span data-stu-id="63936-157">These records are used by the periodic process, **Import from staging table** when creating Project Operations integration journal lines and Project invoice proposal lines.</span></span>

<span data-ttu-id="63936-158">Đăng nhật ký tích hợp Project Operations và đề xuất hóa đơn dự án sẽ kích hoạt cập nhật trong các bản ghi tương ứng của bảng tách chuyển, **ProjCDSActualsImport**.</span><span class="sxs-lookup"><span data-stu-id="63936-158">Posting a Project Operations integration journal and a project invoice proposal triggers an update in respective records in the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="63936-159">Hệ thống nắm bắt và ghi lại các thuộc tính kế toán sau cho các giao dịch thực tế:</span><span class="sxs-lookup"><span data-stu-id="63936-159">The system captures and records the following accounting attributes for actuals transactions:</span></span>

- <span data-ttu-id="63936-160">Khoản tiền tệ kế toán</span><span class="sxs-lookup"><span data-stu-id="63936-160">Accounting currency amount</span></span>
- <span data-ttu-id="63936-161">Tỷ giá</span><span class="sxs-lookup"><span data-stu-id="63936-161">Exchange rate</span></span>
- <span data-ttu-id="63936-162">Số phiếu</span><span class="sxs-lookup"><span data-stu-id="63936-162">Voucher number</span></span>
- <span data-ttu-id="63936-163">Số tiền thuế bán hàng</span><span class="sxs-lookup"><span data-stu-id="63936-163">Sales tax amount</span></span>

<span data-ttu-id="63936-164">Bản đồ bảng **Giá trị tích hợp thực tế của Project Operations** cập nhật hồ sơ thực tế tương ứng trong Dataverse với thông tin này.</span><span class="sxs-lookup"><span data-stu-id="63936-164">The **Project Operations integration actuals** table map updates respective actuals records in Dataverse with this information.</span></span>
